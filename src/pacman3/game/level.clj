(ns pacman3.game.level)

;; ВАЖНО: строки одинаковой длины
(def level
  ["#################################################"
   "#.............#.............#.................#.#"
   "#.###########.#.###########.#.###############.#.#"
   "#.#.........#.#.#.........#.#.#.............#.#.#"
   "#.#.#######.#.#.#.#######.#.#.#.###########.#.#.#"
   "#.#.#.....#.#.#.#.#.....#.#.#.#.#.........#.#.#.#"
   "#.#.#.###.#.#.#.#.#.###.#.#.#.#.#.#######.#.#.#.#"
   "#...#...#.#...#...#...#.#...#...#...#.....#...#.#"
   "###.###.#.###########.#.###########.#.#########.#"
   "#...#...#.....#.......#.....#.......#.........#.#"
   "#.###.#######.#.###########.#.###############.#.#"
   "#.....#.......#.....#.......#.......#.........#.#"
   "#.#####.###########.#.#############.#.#########.#"
   "#.....#.....#.......#.....#.......#.#.#.......#.#"
   "#####.#####.#.###########.#.#####.#.#.#.#####.#.#"
   "#.....#.....#.....#.......#.....#.#.#.#.....#.#.#"
   "#.#####.#########.#.#############.#.#.#####.#.#.#"
   "#.....#.........#.#.....#.........#.#.....#.#.#.#"
   "#.###.#########.#.#####.#.#########.#####.#.#.#.#"
   "#...#...........#.....#.#.....P...........#...#.#"
   "###.#################.#.#####################.#.#"
   "#.....................#.......................#.#"
   "#################################################"])

(def rows (count level))
(def cols (count (first level)))

(defn wall? [[x y]]
      (or (neg? x) (neg? y) (>= x cols) (>= y rows)
          (= \# (get (nth level y) x))))

(def start-positions
  {:pacman [27 19]   ;; там где P на карте
   :ghost1 [2  1]
   :ghost2 [46 1]})
